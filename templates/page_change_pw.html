{% extends "base.html" %}
{% block content %}
<main>
  <h1>{{ get_text("change_password") }}</h1>

  {% for cat, msg in get_flashed_messages(with_categories=true) %}
    <div class="{{ cat }}">{{ msg }}</div>
  {% endfor %}

  <form action="{{ url_for('save_pw', lang=lang) }}" method="POST">
    <div>
      <label for="current_password">{{ get_text("current_password") }}</label>
      <input id="current_password"
             name="current_password"
             type="password"
             required>
    </div>
    <div>
      <label for="new_password">
        {{ get_text("new_password") }} ({{ x.USER_PASSWORD_MIN }}-{{ x.USER_PASSWORD_MAX }})
      </label>
      <input id="user_password"
             name="user_password"
             type="password"
             required
             minlength="{{ x.USER_PASSWORD_MIN }}"
             maxlength="{{ x.USER_PASSWORD_MAX }}">
    </div>
    <div>
      <label for="confirm_password">{{ get_text("confirm_password") }}</label>
      <input id="confirm_password"
             name="confirm_password"
             type="password"
             required>
    </div>
    <button type="submit">{{ get_text("change_password") }}</button>
  </form>
</main>
{% endblock %}
